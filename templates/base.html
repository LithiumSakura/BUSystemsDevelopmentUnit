<!DOCTYPE html>
<html>
<head>
    <title>Society Manager</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <nav>
        {% if session.get("role") == "committee" %}
            <span style="margin-left:10px; font-weight:bold;">Committee</span>
        {% if session.get("role") == "admin" %}
            <a href="{{ url_for('admin_logs') }}">Logs</a>
        {% endif %}

        <a href="{{ url_for('home') }}">Home</a>
        <a href="{{ url_for('list_events') }}">Events</a>

        {% if session.get("user") %} <!-- Allowing logged-in users to view RSVP -->
        <a href="{{ url_for('my_rsvps') }}">My RSVPs</a>
        <a href="{{ url_for('logout') }}">Logout</a>
        {% else %} <!-- Shows register for non-logged-in users -->
        <a href="{{ url_for('register') }}">Register</a>
        <a href="{{ url_for('login') }}">Login</a>
        {% endif %}

        {% if session.get("role") == "admin" %}
        <a href="{{ url_for('admin_users') }}">Manage Users</a>
        {% endif %}
        <div class="nav__logo">Page</div>
        <div class="nav__menu">   
            <a href="{{ url_for('home') }}">Home</a>
            <a href="{{ url_for('list_events') }}">Events</a>
    
            {% if session.get("user") %} <!-- Logged-in user view -->
            <a href="{{ url_for('my_rsvps') }}">My RSVPs</a>
            <a href="{{ url_for('logout') }}">Logout</a>
            {% else %} <!-- Non-logged-in user view -->
            <a href="{{ url_for('register') }}">Register</a>
            <a href="{{ url_for('login') }}">Login</a>
            {% endif %}
        </div>
    </nav>
    <hr>
    {% block content %}{% endblock %}
</body>
</html>
