{% extends "base.html" %}
{% block content %}

<h1 class="page-title">Events</h1>

<div class="events-grid">
  {% for e in events %}
    <a class="event-card" href="{{ url_for('event_detail', event_id=e.id) }}">
      <div class="event-thumb">
        <img
          src="{{ e.image_url if e.image_url else url_for('static', filename='img/event-placeholder.png') }}"
          alt="{{ e.title }}"
          loading="lazy"
        >
      </div>

      <div class="event-body">
        <h3 class="event-title">{{ e.title }}</h3>

        {% if e.location %}
          <div class="event-location">{{ e.location }}</div>
        {% endif %}

        <div class="event-time">
          {{ e.start_time.strftime("%d %B %Y") }}
          {% if e.end_time %}
            • {{ e.start_time.strftime("%I:%M%p") }} – {{ e.end_time.strftime("%I:%M%p") }}
          {% else %}
            • {{ e.start_time.strftime("%I:%M%p") }}
          {% endif %}
        </div>
      </div>
    </a>
  {% endfor %}
</div>

{% endblock %}